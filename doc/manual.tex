\section{Vernacular Commands}

\subsection{Derive}

\Equations comes with a suite of deriving commands that take inductive
families and generate definitions based on them. The common syntax for
these is:

\[\mathtt{Derive}~\ind{C}_1 \ldots \ind{C}_n~\mathtt{for}~\ind{ind}_1 \ldots \ind{ind}_n.\]

Which will try to generate an instance of type class \ind{C} on
inductive type \ind{Ind}. We assume $\ind{ind}_i : Π Δ. s$.
The derivations provided by \Equations are:

\begin{itemize}
\item \ind{DependentEliminationPackage}: generates the dependent
  elimination principle for the given inductive type, which can differ
  from the standard one generated by \Coq.
  It derives an instance of the class
  \texttt{Equations.DepElim.DependentEliminationPackage}.
\item \ind{Signature}: generate the signature of the inductive, as a
  sigma type packing the indices $\Delta$ (again as a sigma type) and
  an object of the inductive type. This is used to produce homogeneous
  constructions on inductive families, by working on their packed
  version (total space in HoTT lingo).
  It derives an instances of the class
  \texttt{Equations.Signature.Signature}.

\item \ind{NoConfusion}: generate the no-confusion principle for the
  given family, which embodies the discrimination and injectivity
  principles for (non-propositional) inductive types.  It derives an
  instance of the class \texttt{Equations.DepElim.NoConfusionPackage}.

\item \ind{EqDec}
  This derives a decidable equality on $C$, assuming decidable equality 
  instances for the parameters and supposing any primitive inductive
  type used in the definition also has decidable equality. If
  successful it generates an instance of the class (in \texttt{Equations.EqDec}):
\begin{verbatim}
Class EqDec (A : Type) :=
  eq_dec : forall x y : A, { x = y } + { x <> y }.
\end{verbatim}
  
\item \ind{Subterm}: this generates the direct subterm relation for the
  inductive (asuming it is in \Set or \Type) as an inductive family.
  It then derives the well-foundedness of this relation and wraps it
  as an homogeneous relation on the signature of the datatype (in case
  it is indexed). These relations can be used with the \texttt{by rec}
  clause of equations. It derives an instance of the class
  \texttt{Equations.Classes.WellFounded}.

\end{itemize}



%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "equations"
%%% TeX-PDF-mode: t
%%% End: 
