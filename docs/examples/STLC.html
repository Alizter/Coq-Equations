<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>STLC</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<div class="code">
</div>

<div class="doc">
<a name="lab1"></a><h1 class="section">Normalization of Simply Typed Lambda-Calculus through Hereditary Substitutions.</h1>


<div class="paragraph"> </div>

  Uses extrinsic encoding of terms, with de Bruijn indices, lifting and
  substitution. Derive hereditary substitution function justified by a
  well-founded order on typable terms and conclude with a normalizer building
  beta-short eta-long normal forms, typable in a bidirectional type system. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="library">Equations.Equations</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">DepElim</span> <span class="id" title="var">FunctionalInduction</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8.html#"><span class="id" title="library">Utf8</span></a>.<br/>
<span class="id" title="var">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">EqDec</span> <span class="id" title="library">DepElimDec</span>.<br/>

<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#le"><span class="id" title="inductive">le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#CompareSpec"><span class="id" title="inductive">CompareSpec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="term"><span class="id" title="inductive">term</span></a> := <br/>
| <a name="Var"><span class="id" title="constructor">Var</span></a> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a name="Lambda"><span class="id" title="constructor">Lambda</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>)<br/>
| <a name="App"><span class="id" title="constructor">App</span></a> (<span class="id" title="var">t</span> <span class="id" title="var">u</span> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>)<br/>
| <a name="Pair"><span class="id" title="constructor">Pair</span></a> (<span class="id" title="var">t</span> <span class="id" title="var">u</span> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>)<br/>
| <a name="Fst"><span class="id" title="constructor">Fst</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>) | <a name="Snd"><span class="id" title="constructor">Snd</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>)<br/>
| <a name="Tt"><span class="id" title="constructor">Tt</span></a>.<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">NoConfusion</span> <span class="id" title="var">Subterm</span> <span class="id" title="var">EqDec</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> : <span class="id" title="var">nat</span> &gt;-&gt; <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">term_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Bind</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">term_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">&quot;</span></a> @( f , x ) " := (<a class="idref" href="STLC.html#App"><span class="id" title="constructor">App</span></a> (<span class="id" title="var">f</span>%<span class="id" title="var">term</span>) (<span class="id" title="var">x</span>%<span class="id" title="var">term</span>)).<br/>
<span class="id" title="keyword">Notation</span> <a name="b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">&quot;</span></a> 'λ' t " := (<a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> (<span class="id" title="var">t</span>%<span class="id" title="var">term</span>)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>
<span class="id" title="keyword">Notation</span> <a name="51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&quot;</span></a> &lt;&lt; t , u &gt;&gt; " := (<a class="idref" href="STLC.html#Pair"><span class="id" title="constructor">Pair</span></a> (<span class="id" title="var">t</span>%<span class="id" title="var">term</span>) (<span class="id" title="var">u</span>%<span class="id" title="var">term</span>)).<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a name="atomic_type"><span class="id" title="axiom">atomic_type</span></a> : <span class="id" title="keyword">Set</span>.<br/>
<span class="id" title="keyword">Parameter</span> <a name="atomic_type_eqdec"><span class="id" title="axiom">atomic_type_eqdec</span></a> : <span class="id" title="class">EqDec.EqDec</span> <a class="idref" href="STLC.html#atomic_type"><span class="id" title="axiom">atomic_type</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="type"><span class="id" title="inductive">type</span></a> :=<br/>
| <a name="atom"><span class="id" title="constructor">atom</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="STLC.html#atomic_type"><span class="id" title="axiom">atomic_type</span></a>)<br/>
| <a name="product"><span class="id" title="constructor">product</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a>)<br/>
| <a name="unit"><span class="id" title="constructor">unit</span></a><br/>
| <a name="arrow"><span class="id" title="constructor">arrow</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a>).<br/>

<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">NoConfusion</span> <span class="id" title="var">Subterm</span> <span class="id" title="var">EqDec</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="STLC.html#atom"><span class="id" title="constructor">atom</span></a> : <span class="id" title="var">atomic_type</span> &gt;-&gt; <span class="id" title="var">type</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="7e10df2a57715ff793340500f4095654"><span class="id" title="notation">&quot;</span></a> x × y " := (<a class="idref" href="STLC.html#product"><span class="id" title="constructor">product</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90).<br/>
<span class="id" title="keyword">Notation</span> <a name="8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">&quot;</span></a> x ---&gt; y " := (<a class="idref" href="STLC.html#arrow"><span class="id" title="constructor">arrow</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30).<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a>.<br/>

<br/>
<span class="id" title="keyword">Equations</span>(<span class="id" title="var">nocomp</span>) <a name="lift"><span class="id" title="definition">lift</span></a> (<span class="id" title="var">k</span> <span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> (<a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a> <span class="id" title="var">i</span> <span class="id" title="var">k</span> := {<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> := <a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">i</span> ;<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> := <a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>) } ;<br/>
<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> (<a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> <span class="id" title="var">t</span>) := <a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> (<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">n</span> <span class="id" title="var">t</span>) ;<br/>
<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> (<a class="idref" href="STLC.html#App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span>) := <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">u</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a> ;<br/>
<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> (<a class="idref" href="STLC.html#Pair"><span class="id" title="constructor">Pair</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span>) := <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">u</span> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a> ;<br/>
<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> (<a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">t</span>) := <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> (<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span>) ;<br/>
<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> (<a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">t</span>) := <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> (<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span>) ;<br/>
<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a> := <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "absurd"  <span class="id" title="var">tactic</span>(<span class="id" title="var">tac</span>) := <span class="id" title="tactic">elimtype</span> <span class="id" title="var">False</span>; <span class="id" title="var">tac</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">term_eq</span> := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">f_equal</span> ; <span class="id" title="tactic">omega</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- @<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">omega</span> || <span class="id" title="var">absurd</span> <span class="id" title="tactic">omega</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">omega</span> || <span class="id" title="var">absurd</span> <span class="id" title="tactic">omega</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#le"><span class="id" title="inductive">le</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">omega</span> || <span class="id" title="var">absurd</span> <span class="id" title="tactic">omega</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#gt"><span class="id" title="definition">gt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">omega</span> || <span class="id" title="var">absurd</span> <span class="id" title="tactic">omega</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#ge"><span class="id" title="definition">ge</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">omega</span> || <span class="id" title="var">absurd</span> <span class="id" title="tactic">omega</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Extern</span> 4 ⇒ <span class="id" title="var">term_eq</span> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">term</span> := <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span> <span class="id" title="var">core</span> <span class="id" title="var">arith</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">do_rewrites</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span> : ?<span class="id" title="var">lhs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">rhs</span> |- <span class="id" title="keyword">context</span> [?<span class="id" title="var">lhs</span>] ⇒ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">crush</span> := <span class="id" title="var">do_rewrites</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lift0"><span class="id" title="lemma">lift0</span></a> <span class="id" title="var">k</span> <span class="id" title="var">t</span> : <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="STLC.html#k"><span class="id" title="variable">k</span></a> 0 <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> 0 <span class="id" title="var">t</span>); <span class="id" title="var">term</span> || <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="var">crush</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="STLC.html#lift0"><span class="id" title="lemma">lift0</span></a> : <span class="id" title="var">lift</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lift_k_lift_k"><span class="id" title="lemma">lift_k_lift_k</span></a> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span> : <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="STLC.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="STLC.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="STLC.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="STLC.html#k"><span class="id" title="variable">k</span></a> (<a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="STLC.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_spec"><span class="id" title="abbreviation">nat_compare_spec</span></a> <span class="id" title="var">n0</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">k</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_lt"><span class="id" title="lemma">nat_compare_lt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_gt"><span class="id" title="lemma">nat_compare_gt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_spec"><span class="id" title="abbreviation">nat_compare_spec</span></a> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">k</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="STLC.html#lift_k_lift_k"><span class="id" title="lemma">lift_k_lift_k</span></a> : <span class="id" title="var">lift</span>.<br/>

<br/>
<span class="id" title="keyword">Equations</span>(<span class="id" title="var">nocomp</span>) <a name="subst"><span class="id" title="definition">subst</span></a> (<span class="id" title="var">k</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">u</span> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> (<a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">u</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a> <span class="id" title="var">i</span> <span class="id" title="var">k</span> := {<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> := <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 <span class="id" title="var">k</span> <span class="id" title="var">u</span> ;<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> := <span class="id" title="var">i</span> ;<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> := <a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <span class="id" title="var">i</span>) } ;<br/>
<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> (<a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">u</span> := <a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> (<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">t</span> <span class="id" title="var">u</span>) ;<br/>
<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> (<a class="idref" href="STLC.html#App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">u</span> := <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> <span class="id" title="var">a</span> <span class="id" title="var">u</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">u</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a> ;<br/>
<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> (<a class="idref" href="STLC.html#Pair"><span class="id" title="constructor">Pair</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">u</span> := <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> <span class="id" title="var">a</span> <span class="id" title="var">u</span><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">u</span> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a> ;<br/>
<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> (<a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">u</span> := <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> (<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>) ;<br/>
<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> (<a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">u</span> := <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> (<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>) ;<br/>
<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">k</span> <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a> <span class="id" title="var">_</span> := <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="substnn"><span class="id" title="lemma">substnn</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t</span> : <a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">funelim</span> (<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span>) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_lt"><span class="id" title="lemma">nat_compare_lt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">absurd</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_gt"><span class="id" title="lemma">nat_compare_gt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">absurd</span> <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="STLC.html#substnn"><span class="id" title="lemma">substnn</span></a> : <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="ctx"><span class="id" title="abbreviation">ctx</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a>).<br/>

<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">lf</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lf</span>.<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; Γ |-- t : A " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">t</span>, <span class="id" title="var">A</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="types"><span class="id" title="inductive">types</span></a> : <a class="idref" href="STLC.html#ctx"><span class="id" title="abbreviation">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="axiom"><span class="id" title="constructor">axiom</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> : <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <br/>
<br/>
| <a name="abstraction"><span class="id" title="constructor">abstraction</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">λ</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><br/>
<br/>
| <a name="application"><span class="id" title="constructor">application</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><br/>
<br/>
| <a name="unit_intro"><span class="id" title="constructor">unit_intro</span></a> <span class="id" title="var">Γ</span> : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a><br/>
<br/>
| <a name="pair_intro"><span class="id" title="constructor">pair_intro</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">)</span></a><br/>
<br/>
| <a name="pair_elim_fst"><span class="id" title="constructor">pair_elim_fst</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span> : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a><br/>
<br/>
| <a name="pair_elim_snd"><span class="id" title="constructor">pair_elim_snd</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span> : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a name="fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">&quot;</span></a>Γ |-- i : A " := (<a class="idref" href="STLC.html#types"><span class="id" title="variable">types</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">A</span>).<br/>

<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#types"><span class="id" title="inductive">types</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="4996f8537af741854e06b83c1ba67d98"><span class="id" title="notation">&quot;</span></a> [ t ] u " := (<a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> 0 <span class="id" title="var">u</span> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">&quot;</span></a> x @ y " := (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_length"><span class="id" title="lemma">nth_length</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">x</span> <span class="id" title="var">t</span> (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a>) <a class="idref" href="STLC.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="STLC.html#types"><span class="id" title="inductive">types</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nat_compare_elim"><span class="id" title="lemma">nat_compare_elim</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#comparison"><span class="id" title="inductive">comparison</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">PEq</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, <a class="idref" href="STLC.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">PLt</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>, <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="STLC.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="STLC.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">PGt</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>, <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#19ab5cfd7e4f60fa14f22b576013bd96"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="STLC.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="STLC.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>, <a class="idref" href="STLC.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="STLC.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="STLC.html#j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_spec"><span class="id" title="abbreviation">nat_compare_spec</span></a> <span class="id" title="var">i</span> <span class="id" title="var">j</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_extend_left"><span class="id" title="lemma">nth_extend_left</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">a</span> : <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">n</span> (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_app_l"><span class="id" title="lemma">nth_app_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">a</span> : <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) {<span class="id" title="var">n</span>} (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a>) <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_app_r"><span class="id" title="lemma">nth_app_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">a</span> : <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) {<span class="id" title="var">n</span>} (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a>) <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_extend_middle"><span class="id" title="lemma">nth_extend_middle</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">a</span> : <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">n</span> (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">l''</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l''"><span class="id" title="variable">l''</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#l''"><span class="id" title="variable">l''</span></a>) (<a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l''"><span class="id" title="variable">l''</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">foo</span>:=<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_spec"><span class="id" title="abbreviation">nat_compare_spec</span></a> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">foo</span>; <span class="id" title="tactic">fold</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l'</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="STLC.html#nth_extend_left"><span class="id" title="lemma">nth_extend_left</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l''</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l''</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="STLC.html#nth_extend_left"><span class="id" title="lemma">nth_extend_left</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l'</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="STLC.html#nth_extend_left"><span class="id" title="lemma">nth_extend_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="STLC.html#nth_app_l"><span class="id" title="lemma">nth_app_l</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="STLC.html#nth_app_r"><span class="id" title="lemma">nth_app_r</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#in_inv"><span class="id" title="lemma">in_inv</span></a> : <span class="id" title="var">list</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="type_lift"><span class="id" title="lemma">type_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">Γ'</span> : <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">Γ''</span>, <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depind</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="STLC.html#nth_extend_middle"><span class="id" title="lemma">nth_extend_middle</span></a> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">i</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Γ''</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#axiom"><span class="id" title="constructor">axiom</span></a>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">list</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span> |- *; <span class="id" title="tactic">omega</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#abstraction"><span class="id" title="constructor">abstraction</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHtypes</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="type_lift1"><span class="id" title="lemma">type_lift1</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">A</span> : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 1 <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#type_lift"><span class="id" title="lemma">type_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="type_liftn"><span class="id" title="lemma">type_liftn</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#type_lift"><span class="id" title="lemma">type_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">H</span> <span class="id" title="var">Γ'</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">type_lift1</span> <span class="id" title="var">type_lift</span> <span class="id" title="var">type_liftn</span> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">crush</span> ::= <span class="id" title="var">do_rewrites</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">do_rewrites</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="app_cons_snoc_app"><span class="id" title="lemma">app_cons_snoc_app</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">l</span> (<span class="id" title="var">a</span> : <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">l'</span> : <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">crush</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Extern</span> 5 ⇒ <span class="id" title="tactic">progress</span> (<span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">list</span>) : <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">term</span> ::= <span class="id" title="var">simp</span> <span class="id" title="var">lift</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">core</span> <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="substitutive"><span class="id" title="lemma">substitutive</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">u</span> <span class="id" title="var">U</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a><a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">depind</span> <span class="id" title="var">H</span>; <span class="id" title="var">term</span>. <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">spec</span>:=<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_spec"><span class="id" title="abbreviation">nat_compare_spec</span></a> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Γ'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">spec</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">fold</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Γ'</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> ; <span class="id" title="var">simp</span> <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Eq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="STLC.html#type_lift"><span class="id" title="lemma">type_lift</span></a> <span class="id" title="var">Γ0</span> <span class="id" title="var">u</span> <span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">H0</span> <span class="id" title="var">Γ'</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="STLC.html#app_cons_snoc_app"><span class="id" title="lemma">app_cons_snoc_app</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_nth1"><span class="id" title="lemma">app_nth1</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_nth2"><span class="id" title="lemma">app_nth2</span></a>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Minus.html#minus_n_n"><span class="id" title="abbreviation">minus_n_n</span></a>. <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Lt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_nth1"><span class="id" title="lemma">app_nth1</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_nth1"><span class="id" title="lemma">app_nth1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ0</span>); <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Gt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_nth2"><span class="id" title="lemma">app_nth2</span></a>; <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ0</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ0</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_nth2"><span class="id" title="lemma">app_nth2</span></a>; <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="STLC.html#nth_extend_left"><span class="id" title="lemma">nth_extend_left</span></a> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#axiom"><span class="id" title="constructor">axiom</span></a>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">list</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span> |- ×. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">omega</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Abstraction&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#abstraction"><span class="id" title="constructor">abstraction</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHtypes</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ'</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst1"><span class="id" title="lemma">subst1</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">u</span> <span class="id" title="var">U</span> : <a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> 0 <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#substitutive"><span class="id" title="lemma">substitutive</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">u</span> <span class="id" title="var">U</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; t --&gt; u " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 55, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="reduce"><span class="id" title="inductive">reduce</span></a> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="red_beta"><span class="id" title="constructor">red_beta</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span> : <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@((</span></a><a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#db9d5d46ef2ab5995e0c0739081666c1"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="STLC.html#subst"><span class="id" title="definition">subst</span></a> 0 <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><br/>
| <a name="red_fst"><span class="id" title="constructor">red_fst</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span> : <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="STLC.html#db9d5d46ef2ab5995e0c0739081666c1"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><br/>
| <a name="red_snd"><span class="id" title="constructor">red_snd</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span> : <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="STLC.html#db9d5d46ef2ab5995e0c0739081666c1"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a name="db9d5d46ef2ab5995e0c0739081666c1"><span class="id" title="notation">&quot;</span></a> t --&gt; u " := (<a class="idref" href="STLC.html#reduce"><span class="id" title="variable">reduce</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span>).<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#reduce"><span class="id" title="inductive">reduce</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relations.html#"><span class="id" title="library">Relations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="reduces"><span class="id" title="definition">reduces</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#clos_refl_trans"><span class="id" title="inductive">clos_refl_trans</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="STLC.html#reduce"><span class="id" title="inductive">reduce</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="f30a71f07042c644ffb1e76f9aa6ac7e"><span class="id" title="notation">&quot;</span></a> t --&gt;* u " := (<a class="idref" href="STLC.html#reduces"><span class="id" title="definition">reduces</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 55).<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Setoids.Setoid.html#"><span class="id" title="library">Setoid</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="STLC.html#reduces"><span class="id" title="definition">reduces</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">econstructor</span> 3; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="STLC.html#reduces"><span class="id" title="definition">reduces</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">econstructor</span> 2; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="value"><span class="id" title="inductive">value</span></a> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="val_var"><span class="id" title="constructor">val_var</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="STLC.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a><br/>
| <a name="val_unit"><span class="id" title="constructor">val_unit</span></a> : <a class="idref" href="STLC.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a><br/>
| <a name="val_pair"><span class="id" title="constructor">val_pair</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="STLC.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="STLC.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a><br/>
| <a name="val_lambda"><span class="id" title="constructor">val_lambda</span></a> <span class="id" title="var">t</span> : <a class="idref" href="STLC.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="STLC.html#b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">λ</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#value"><span class="id" title="inductive">value</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="STLC.html#value"><span class="id" title="inductive">value</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
| <a name="reduce1"><span class="id" title="constructor">reduce1</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span> : <a class="idref" href="STLC.html#reduce"><span class="id" title="inductive">reduce</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><br/>
| <a name="reduce_app_l"><span class="id" title="constructor">reduce_app_l</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">u</span> : <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> (<a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>) (<a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>)<br/>
| <a name="reduce_app_r"><span class="id" title="constructor">reduce_app_r</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">u'</span> : <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#u'"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> (<a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>) (<a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u'"><span class="id" title="variable">u'</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>)<br/>
| <a name="reduce_pair_l"><span class="id" title="constructor">reduce_pair_l</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">u</span> : <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> (<a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a>) (<a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
| <a name="reduce_pair_r"><span class="id" title="constructor">reduce_pair_r</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">u'</span> : <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#u'"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> (<a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a>) (<a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u'"><span class="id" title="variable">u'</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
| <a name="reduce_fst"><span class="id" title="constructor">reduce_fst</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> : <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> (<a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a>)<br/>
| <a name="reduce_snd"><span class="id" title="constructor">reduce_snd</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> : <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> (<a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a>).<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">find_empty</span> := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">solve</span> [ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span> ]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="preserves_red1"><span class="id" title="lemma">preserves_red1</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> τ : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">u</span>, <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#db9d5d46ef2ab5995e0c0739081666c1"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">t'</span> <span class="id" title="var">redtt'</span>; <span class="id" title="var">term</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">find_empty</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">redtt'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#subst1"><span class="id" title="lemma">subst1</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">A</span>. <span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="preserves_redpar"><span class="id" title="lemma">preserves_redpar</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> τ : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">u</span>, <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">t'</span> <span class="id" title="var">rtt'</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">rtt'</span>; <span class="id" title="var">term</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">find_empty</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="STLC.html#subst1"><span class="id" title="lemma">subst1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subject_reduction"><span class="id" title="lemma">subject_reduction</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> τ : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">u</span>, <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#f30a71f07042c644ffb1e76f9aa6ac7e"><span class="id" title="notation">--&gt;*</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 2; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="STLC.html#preserves_red1"><span class="id" title="lemma">preserves_red1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="STLC.html#reduce"><span class="id" title="inductive">reduce</span></a> <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> : <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="progress_"><span class="id" title="lemma">progress_</span></a> <span class="id" title="var">t</span> τ : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">t'</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#reduce_congr"><span class="id" title="inductive">reduce_congr</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="STLC.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">depind</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">t'</span> <span class="id" title="var">tt'</span>]|<span class="id" title="var">vt</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes2</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">u'</span> <span class="id" title="var">uu'</span>]|<span class="id" title="var">vu</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H</span>; [<span class="id" title="var">depelim</span> <span class="id" title="var">H</span>|<span class="id" title="var">depelim</span> <span class="id" title="var">vt</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="STLC.html#4996f8537af741854e06b83c1ba67d98"><span class="id" title="notation">[</span></a><span class="id" title="var">u</span><a class="idref" href="STLC.html#4996f8537af741854e06b83c1ba67d98"><span class="id" title="notation">]</span></a><span class="id" title="var">t</span>). <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">t'</span> <span class="id" title="var">tt'</span>]|<span class="id" title="var">vt</span>]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes2</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">u'</span> <span class="id" title="var">uu'</span>]|<span class="id" title="var">vu</span>]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">t'</span> <span class="id" title="var">tt'</span>]|<span class="id" title="var">vt</span>]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">vt</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">t'</span> <span class="id" title="var">tt'</span>]|<span class="id" title="var">vt</span>]; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">vt</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; Γ |-- t =&gt; A " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">t</span>, <span class="id" title="var">A</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot; Γ |-- t &lt;= A " (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">t</span>, <span class="id" title="var">A</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="atomic"><span class="id" title="inductive">atomic</span></a> : <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="atomic_atom"><span class="id" title="constructor">atomic_atom</span></a> <span class="id" title="var">a</span> : <a class="idref" href="STLC.html#atomic"><span class="id" title="inductive">atomic</span></a> (<a class="idref" href="STLC.html#atom"><span class="id" title="constructor">atom</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#atomic"><span class="id" title="inductive">atomic</span></a>.<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="STLC.html#atomic"><span class="id" title="inductive">atomic</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Equations</span>(<span class="id" title="var">nocomp</span>) <a name="atomic_dec"><span class="id" title="definition">atomic_dec</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a> <a class="idref" href="STLC.html#atomic"><span class="id" title="inductive">atomic</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="STLC.html#atomic"><span class="id" title="inductive">atomic</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a> :=<br/>
<a class="idref" href="STLC.html#atomic_dec"><span class="id" title="definition">atomic_dec</span></a> (<a class="idref" href="STLC.html#atom"><span class="id" title="constructor">atom</span></a> <span class="id" title="var">a</span>) := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> (<a class="idref" href="STLC.html#atomic_atom"><span class="id" title="constructor">atomic_atom</span></a> <span class="id" title="var">a</span>) ;<br/>
<a class="idref" href="STLC.html#atomic_dec"><span class="id" title="definition">atomic_dec</span></a> <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">All</span> <span class="id" title="keyword">Obligations</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="check"><span class="id" title="inductive">check</span></a> : <a class="idref" href="STLC.html#ctx"><span class="id" title="abbreviation">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="abstraction_check"><span class="id" title="constructor">abstraction_check</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">λ</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><br/>
<br/>
| <a name="pair_intro_check"><span class="id" title="constructor">pair_intro_check</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">)</span></a><br/>
<br/>
| <a name="unit_intro_check"><span class="id" title="constructor">unit_intro_check</span></a> <span class="id" title="var">Γ</span> : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a><br/>
<br/>
| <a name="check_synth"><span class="id" title="constructor">check_synth</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> : <a class="idref" href="STLC.html#atomic"><span class="id" title="inductive">atomic</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
<span class="id" title="keyword">with</span> <a name="synthetize"><span class="id" title="inductive">synthetize</span></a> : <a class="idref" href="STLC.html#ctx"><span class="id" title="abbreviation">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
<br/>
| <a name="axiom_synth"><span class="id" title="constructor">axiom_synth</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> : <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a><br/>
&nbsp;<br/>
| <a name="application_synth"><span class="id" title="constructor">application_synth</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>} : <br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><br/>
<br/>
| <a name="pair_elim_fst_synth"><span class="id" title="constructor">pair_elim_fst_synth</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a><br/>
<br/>
| <a name="pair_elim_snd_synth"><span class="id" title="constructor">pair_elim_snd_synth</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">t</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a name="a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">&quot;</span></a>Γ |-- i =&gt; A " := (<a class="idref" href="STLC.html#synthetize"><span class="id" title="variable">synthetize</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">A</span>)<br/>
<span class="id" title="var">and</span>  "Γ |-- i &lt;= A " := (<a class="idref" href="STLC.html#check"><span class="id" title="variable">check</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#check"><span class="id" title="inductive">check</span></a> <a class="idref" href="STLC.html#synthetize"><span class="id" title="inductive">synthetize</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="STLC.html#synthetize"><span class="id" title="inductive">synthetize</span></a> <a class="idref" href="STLC.html#check"><span class="id" title="inductive">check</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Scheme</span> <a name="check_mut_ind"><span class="id" title="definition">check_mut_ind</span></a> := <span class="id" title="var">Elimination</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#check"><span class="id" title="inductive">check</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a name="synthetize_mut_ind"><span class="id" title="definition">synthetize_mut_ind</span></a> := <span class="id" title="var">Elimination</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#synthetize"><span class="id" title="inductive">synthetize</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
<span class="id" title="var">Combined</span> <span class="id" title="keyword">Scheme</span> <a name="check_synthetize"><span class="id" title="definition">check_synthetize</span></a> <span class="id" title="var">from</span> <a class="idref" href="STLC.html#check_mut_ind"><span class="id" title="definition">check_mut_ind</span></a>, <a class="idref" href="STLC.html#synthetize_mut_ind"><span class="id" title="definition">synthetize_mut_ind</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="synth_arrow"><span class="id" title="lemma">synth_arrow</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>} : <span class="id" title="keyword">∀</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Prop</span>, <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">λ</span></a> <a class="idref" href="STLC.html#b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">H</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="synth_pair"><span class="id" title="lemma">synth_pair</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">T</span>} : <span class="id" title="keyword">∀</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Prop</span>, <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">H</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="synth_unit"><span class="id" title="lemma">synth_unit</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">T</span>} : <span class="id" title="keyword">∀</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Prop</span>, <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">H</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Extern</span> 3 ⇒ <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">Γ</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> ?<span class="id" title="var">t</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> ?<span class="id" title="var">T</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#synth_arrow"><span class="id" title="lemma">synth_arrow</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) || <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#synth_pair"><span class="id" title="lemma">synth_pair</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) || <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#synth_unit"><span class="id" title="lemma">synth_unit</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="check_types"><span class="id" title="lemma">check_types</span></a> : (<span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>, <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>)<br/>
<span class="id" title="keyword">with</span> <a name="synthetizes_types"><span class="id" title="lemma">synthetizes_types</span></a> : (<span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>, <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">econstructor</span>; <span class="id" title="var">term</span> ].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">check_types</span> <span class="id" title="var">synthetizes_types</span> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="normal"><span class="id" title="inductive">normal</span></a> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="normal_unit"><span class="id" title="constructor">normal_unit</span></a> : <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a><br/>
| <a name="normal_pair"><span class="id" title="constructor">normal_pair</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a><br/>
| <a name="normal_abs"><span class="id" title="constructor">normal_abs</span></a> <span class="id" title="var">t</span> : <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">λ</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><br/>
| <a name="normal_neutral"><span class="id" title="constructor">normal_neutral</span></a> <span class="id" title="var">r</span> : <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> <a class="idref" href="STLC.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#r"><span class="id" title="variable">r</span></a><br/>
<br/>
<span class="id" title="keyword">with</span> <a name="neutral"><span class="id" title="inductive">neutral</span></a> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="neutral_var"><span class="id" title="constructor">neutral_var</span></a> <span class="id" title="var">i</span> : <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> (<a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="STLC.html#i"><span class="id" title="variable">i</span></a>)<br/>
| <a name="neutral_fst"><span class="id" title="constructor">neutral_fst</span></a> <span class="id" title="var">t</span> : <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> (<a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>)<br/>
| <a name="neutral_snd"><span class="id" title="constructor">neutral_snd</span></a> <span class="id" title="var">t</span> : <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> (<a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>)<br/>
| <a name="neutral_app"><span class="id" title="constructor">neutral_app</span></a> <span class="id" title="var">t</span> <span class="id" title="var">n</span> : <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> (<a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a>.<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="check_lift_gen"><span class="id" title="lemma">check_lift_gen</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> (<span class="id" title="var">H</span> : <a class="idref" href="STLC.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>) : <span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span>, <a class="idref" href="STLC.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">Γ''</span>, <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a><br/>
<span class="id" title="keyword">with</span> <a name="synthetize_lift_gen"><span class="id" title="lemma">synthetize_lift_gen</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> (<span class="id" title="var">H</span> : <a class="idref" href="STLC.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>) : <span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span>, <a class="idref" href="STLC.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">Γ''</span>, <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Γ'</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ'</span>)). <span class="id" title="tactic">change</span> (<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ''</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ0</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ'</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ''</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">check_lift_gen</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">trivial</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">check_lift_gen</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">synthetize_lift_gen</span>; <span class="id" title="var">eassumption</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">term</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">check_lift_gen</span> <span class="id" title="var">synthetize_lift_gen</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="STLC.html#nth_extend_middle"><span class="id" title="lemma">nth_extend_middle</span></a> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">i</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Γ''</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#axiom_synth"><span class="id" title="constructor">axiom_synth</span></a>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">list</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span> |- *; <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="check_lift"><span class="id" title="definition">check_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">Γ'</span> (<span class="id" title="var">H</span> : <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>) : <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">Γ''</span>, <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#check_lift_gen"><span class="id" title="lemma">check_lift_gen</span></a> (<a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="STLC.html#H"><span class="id" title="variable">H</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="synthetize_lift"><span class="id" title="definition">synthetize_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">Γ'</span> (<span class="id" title="var">H</span> : <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">Γ''</span>, <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#synthetize_lift_gen"><span class="id" title="lemma">synthetize_lift_gen</span></a> (<a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="STLC.html#H"><span class="id" title="variable">H</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="check_lift1"><span class="id" title="lemma">check_lift1</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">A</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 1 <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#check_lift"><span class="id" title="definition">check_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="synth_lift1"><span class="id" title="lemma">synth_lift1</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">A</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 1 <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#synthetize_lift"><span class="id" title="definition">synthetize_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="STLC.html#check_lift1"><span class="id" title="lemma">check_lift1</span></a> @<a class="idref" href="STLC.html#synth_lift1"><span class="id" title="lemma">synth_lift1</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="check_lift_ctx"><span class="id" title="lemma">check_lift_ctx</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">Γ'</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#check_lift"><span class="id" title="definition">check_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">H</span> <span class="id" title="var">Γ'</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="synth_lift_ctx"><span class="id" title="lemma">synth_lift_ctx</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">Γ'</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#synthetize_lift"><span class="id" title="definition">synthetize_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">H</span> <span class="id" title="var">Γ'</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="STLC.html#check_lift_ctx"><span class="id" title="lemma">check_lift_ctx</span></a> @<a class="idref" href="STLC.html#synth_lift_ctx"><span class="id" title="lemma">synth_lift_ctx</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Equations</span>(<span class="id" title="var">nocomp</span>) <a name="6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
<a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> (<a class="idref" href="STLC.html#atom"><span class="id" title="constructor">atom</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">t</span> := <span class="id" title="var">t</span> ;<br/>
<a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> (<a class="idref" href="STLC.html#product"><span class="id" title="constructor">product</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">t</span> := <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <span class="id" title="var">a</span> (<a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">t</span>)<a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <span class="id" title="var">b</span> (<a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">t</span>) <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a> ;<br/>
<a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> (<a class="idref" href="STLC.html#arrow"><span class="id" title="constructor">arrow</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">t</span> := (<a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> (<a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <span class="id" title="var">b</span> <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 1 <span class="id" title="var">t</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <span class="id" title="var">a</span> 0<a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>))%<span class="id" title="var">term</span> ;<br/>
<a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">t</span> := <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="checks_arrow"><span class="id" title="lemma">checks_arrow</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">---&gt;</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#ad7a1d6b8b93b9a73a2783f3979de807"><span class="id" title="notation">∃</span></a> <span class="id" title="var">t'</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#ad7a1d6b8b93b9a73a2783f3979de807"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">λ</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#71b04d61d6d756540f3712ec7919f1f1"><span class="id" title="notation">∧</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t0</span>; <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="normal_lift"><span class="id" title="lemma">normal_lift</span></a> {<span class="id" title="var">t</span> <span class="id" title="var">k</span> <span class="id" title="var">n</span>} : <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> (<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="STLC.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>) <br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a name="neutral_lift"><span class="id" title="lemma">neutral_lift</span></a> {<span class="id" title="var">t</span> <span class="id" title="var">k</span> <span class="id" title="var">n</span>} : <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> (<a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="STLC.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> 1; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1; <span class="id" title="var">simp</span> <span class="id" title="var">lift</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="var">term</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a>; <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="STLC.html#normal_lift"><span class="id" title="lemma">normal_lift</span></a> @<a class="idref" href="STLC.html#neutral_lift"><span class="id" title="lemma">neutral_lift</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="check_normal"><span class="id" title="lemma">check_normal</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;<span class="id" title="keyword">with</span> <a name="synth_neutral"><span class="id" title="lemma">synth_neutral</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">term</span>. <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">term</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="STLC.html#check_normal"><span class="id" title="lemma">check_normal</span></a> @<a class="idref" href="STLC.html#synth_neutral"><span class="id" title="lemma">synth_neutral</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eta_expand"><span class="id" title="lemma">eta_expand</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">A</span> : <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">A</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simp</span> <span class="id" title="var">η</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(0 <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">A1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA1</span> (<span class="id" title="var">A1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) 0 (<a class="idref" href="STLC.html#neutral_var"><span class="id" title="constructor">neutral_var</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="STLC.html#axiom_synth"><span class="id" title="constructor">axiom_synth</span></a> (<span class="id" title="var">A1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) 0 <span class="id" title="var">H1</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHA2</span> (<span class="id" title="var">A1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 1 <span class="id" title="var">t</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <span class="id" title="var">A1</span> 0<a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a>); <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="25bf1c18d98f1626df2cb7c984bc0dd5"><span class="id" title="lemma">η_normal</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <span class="id" title="var">t</span>, <a class="idref" href="STLC.html#neutral"><span class="id" title="inductive">neutral</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#normal"><span class="id" title="inductive">normal</span></a> (<a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#eta_expand"><span class="id" title="lemma">eta_expand</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">term</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Going to use the subterm order 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">Below.rec</span> ::= <span class="id" title="var">Subterm.rec_wf_eqns</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Wf_nat.html#"><span class="id" title="library">Wf_nat</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="wf_nat"><span class="id" title="instance">wf_nat</span></a> : <span class="id" title="class">Classes.WellFounded</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">lt_wf</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="STLC.html#Subterm.lexprod"><span class="id" title="inductive">Subterm.lexprod</span></a> : <span class="id" title="var">subterm_relation</span>.<br/>

<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">Signature</span> <span class="id" title="keyword">for</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="lexicographic"><span class="id" title="abbreviation">lexicographic</span></a> <span class="id" title="var">R</span> <span class="id" title="var">S</span> := (<span class="id" title="inductive">Subterm.lexprod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">EqDec</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="her_order"><span class="id" title="definition">her_order</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#lexicographic"><span class="id" title="abbreviation">lexicographic</span></a> (<a class="idref" href="STLC.html#lexicographic"><span class="id" title="abbreviation">lexicographic</span></a> <a class="idref" href="STLC.html#type_subterm"><span class="id" title="definition">type_subterm</span></a> <a class="idref" href="STLC.html#term_subterm"><span class="id" title="definition">term_subterm</span></a>) <a class="idref" href="STLC.html#term_subterm"><span class="id" title="definition">term_subterm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="STLC.html#her_order"><span class="id" title="definition">her_order</span></a> : <span class="id" title="var">subterm_relation</span>.<br/>

<br/>
<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">program_simpl</span>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> [<span class="id" title="var">A</span>] [<span class="id" title="var">P</span>].<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="hereditary_type"><span class="id" title="definition">hereditary_type</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;(<a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="STLC.html#type_subterm"><span class="id" title="definition">type_subterm</span></a> <span class="id" title="var">u</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a>)%<span class="id" title="var">type</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="IsLambda"><span class="id" title="inductive">IsLambda</span></a> {<span class="id" title="var">t</span>} : <a class="idref" href="STLC.html#hereditary_type"><span class="id" title="definition">hereditary_type</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Set</span> :=<br/>
| <a name="isLambda"><span class="id" title="constructor">isLambda</span></a> <span class="id" title="var">abs</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">prf</span> : <a class="idref" href="STLC.html#IsLambda"><span class="id" title="inductive">IsLambda</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> <a class="idref" href="STLC.html#abs"><span class="id" title="variable">abs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="STLC.html#arrow"><span class="id" title="constructor">arrow</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="STLC.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="STLC.html#prf"><span class="id" title="variable">prf</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Equations</span>(<span class="id" title="var">nocomp</span>) <a name="is_lambda"><span class="id" title="definition">is_lambda</span></a> {<span class="id" title="var">t</span>} (<span class="id" title="var">h</span> : <a class="idref" href="STLC.html#hereditary_type"><span class="id" title="definition">hereditary_type</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>) : <a class="idref" href="STLC.html#IsLambda"><span class="id" title="inductive">IsLambda</span></a> <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#3dcaec3b772747610227247939f96b01"><span class="id" title="notation">+</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
<a class="idref" href="STLC.html#is_lambda"><span class="id" title="definition">is_lambda</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> <span class="id" title="var">abs</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="STLC.html#arrow"><span class="id" title="constructor">arrow</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">prf</span>))) := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="STLC.html#isLambda"><span class="id" title="constructor">isLambda</span></a> <span class="id" title="var">abs</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">prf</span>) ;<br/>
<a class="idref" href="STLC.html#is_lambda"><span class="id" title="definition">is_lambda</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">t'</span> <span class="id" title="var">_</span>) := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">t'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="is_lambda_inr"><span class="id" title="lemma">is_lambda_inr</span></a> {<span class="id" title="var">t</span>} (<span class="id" title="var">h</span> : <a class="idref" href="STLC.html#hereditary_type"><span class="id" title="definition">hereditary_type</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>) : <span class="id" title="keyword">∀</span> <span class="id" title="var">t'</span>, <a class="idref" href="STLC.html#is_lambda"><span class="id" title="definition">is_lambda</span></a> <a class="idref" href="STLC.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="STLC.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>. <span class="id" title="var">funelim</span> (<a class="idref" href="STLC.html#is_lambda"><span class="id" title="definition">is_lambda</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="IsPair"><span class="id" title="inductive">IsPair</span></a> {<span class="id" title="var">t</span>} : <a class="idref" href="STLC.html#hereditary_type"><span class="id" title="definition">hereditary_type</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Set</span> :=<br/>
| <a name="isPair"><span class="id" title="constructor">isPair</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">prf</span> : <a class="idref" href="STLC.html#IsPair"><span class="id" title="inductive">IsPair</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#Pair"><span class="id" title="constructor">Pair</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="STLC.html#product"><span class="id" title="constructor">product</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="STLC.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="STLC.html#prf"><span class="id" title="variable">prf</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Equations</span>(<span class="id" title="var">nocomp</span>) <a name="is_pair"><span class="id" title="definition">is_pair</span></a> {<span class="id" title="var">t</span>} (<span class="id" title="var">h</span> : <a class="idref" href="STLC.html#hereditary_type"><span class="id" title="definition">hereditary_type</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>) : <a class="idref" href="STLC.html#IsPair"><span class="id" title="inductive">IsPair</span></a> <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#3dcaec3b772747610227247939f96b01"><span class="id" title="notation">+</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
<a class="idref" href="STLC.html#is_pair"><span class="id" title="definition">is_pair</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="STLC.html#Pair"><span class="id" title="constructor">Pair</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<a class="idref" href="STLC.html#product"><span class="id" title="constructor">product</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">prf</span>))) := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="STLC.html#isPair"><span class="id" title="constructor">isPair</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">prf</span>) ;<br/>
<a class="idref" href="STLC.html#is_pair"><span class="id" title="definition">is_pair</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">t'</span> <span class="id" title="var">_</span>) := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">t'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="is_pair_inr"><span class="id" title="lemma">is_pair_inr</span></a> {<span class="id" title="var">t</span>} (<span class="id" title="var">h</span> : <a class="idref" href="STLC.html#hereditary_type"><span class="id" title="definition">hereditary_type</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>) : <span class="id" title="keyword">∀</span> <span class="id" title="var">t'</span>, <a class="idref" href="STLC.html#is_pair"><span class="id" title="definition">is_pair</span></a> <a class="idref" href="STLC.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="STLC.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>. <span class="id" title="var">funelim</span> (<a class="idref" href="STLC.html#is_pair"><span class="id" title="definition">is_pair</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">o</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_extend_right"><span class="id" title="lemma">nth_extend_right</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">a</span> : <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">n</span> (<span class="id" title="var">l</span> <span class="id" title="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="STLC.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#l'"><span class="id" title="variable">l'</span></a>) <a class="idref" href="STLC.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">l'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="her_type"><span class="id" title="definition">her_type</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">u'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#u'"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="STLC.html#type_subterm"><span class="id" title="definition">type_subterm</span></a> <span class="id" title="var">u</span> <a class="idref" href="STLC.html#u'"><span class="id" title="variable">u'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="var">Remove</span> <span class="id" title="var">Hints</span> <span class="id" title="var">t_step</span> : <span class="id" title="var">subterm_relation</span>.<br/>
<span class="id" title="var">Remove</span> <span class="id" title="var">Hints</span> <span class="id" title="var">Subterm.clos_trans_stepr</span> : <span class="id" title="var">subterm_relation</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">apply_step</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#clos_trans"><span class="id" title="inductive">clos_trans</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">R</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ⇒ <span class="id" title="var">not_evar</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#t_step"><span class="id" title="constructor">t_step</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 30 (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#clos_trans"><span class="id" title="inductive">clos_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="var">apply_step</span> : <span class="id" title="var">subterm_relation</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="clos_trans_inv"><span class="id" title="lemma">clos_trans_inv</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">R</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#clos_trans"><span class="id" title="inductive">clos_trans</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="STLC.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="STLC.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#clos_trans"><span class="id" title="inductive">clos_trans</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="STLC.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="STLC.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#clos_trans"><span class="id" title="inductive">clos_trans</span></a> <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="STLC.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="STLC.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="STLC.html#z"><span class="id" title="variable">z</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#t_trans"><span class="id" title="constructor">t_trans</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">apply_transitivity</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#clos_trans"><span class="id" title="inductive">clos_trans</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">R</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">not_evar</span> <span class="id" title="var">x</span>; <span class="id" title="var">not_evar</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="STLC.html#clos_trans_inv"><span class="id" title="lemma">clos_trans_inv</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 31 (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Relations.Relation_Operators.html#clos_trans"><span class="id" title="inductive">clos_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="var">apply_transitivity</span> : <span class="id" title="var">subterm_relation</span>.<br/>

<br/>
<span class="id" title="keyword">Equations</span> <a name="hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="STLC.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">k</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="STLC.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="STLC.html#her_type"><span class="id" title="definition">her_type</span></a> <span class="id" title="var">t</span>) :=<br/>
<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="var">t</span> <span class="id" title="var">k</span> <span class="id" title="tactic">by</span> <span class="id" title="var">rec</span> <span class="id" title="var">t</span> <a class="idref" href="STLC.html#her_order"><span class="id" title="definition">her_order</span></a> :=<br/>
<br/>
<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">A</span> <span class="id" title="var">a</span>) <span class="id" title="var">t</span>) <span class="id" title="var">k</span> <span class="id" title="keyword">with</span> <span class="id" title="var">t</span> := {<br/>
&nbsp;&nbsp;| <a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a> <span class="id" title="var">i</span> <span class="id" title="var">k</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 <span class="id" title="var">k</span> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">A</span> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <span class="id" title="var">i</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> } ;<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> <span class="id" title="var">t</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="STLC.html#hereditary_subst_comp_proj"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>)))<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ;<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="STLC.html#App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">f</span> <span class="id" title="var">arg</span> <span class="id" title="keyword">with</span> <a class="idref" href="STLC.html#hereditary_subst_comp_proj"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> <a class="idref" href="STLC.html#is_lambda"><span class="id" title="definition">is_lambda</span></a> <span class="id" title="var">p</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="STLC.html#isLambda"><span class="id" title="constructor">isLambda</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span> <span class="id" title="var">prf</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">f''</span>, <span class="id" title="var">y</span>) := <a class="idref" href="STLC.html#hereditary_subst_comp_proj"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">A'</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="STLC.html#hereditary_subst_comp_proj"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">arg</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">f'</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> 0 <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#f''"><span class="id" title="variable">f''</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">B'</span> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">f'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a><span class="id" title="var">f'</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="STLC.html#hereditary_subst_comp_proj"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">arg</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span>)<a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> } } ;<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="STLC.html#Pair"><span class="id" title="constructor">Pair</span></a> <span class="id" title="var">i</span> <span class="id" title="var">j</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="STLC.html#hereditary_subst_comp_proj"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span>)<a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="STLC.html#hereditary_subst_comp_proj"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span>) <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ;<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> <a class="idref" href="STLC.html#hereditary_subst_comp_proj"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> <a class="idref" href="STLC.html#is_pair"><span class="id" title="definition">is_pair</span></a> <span class="id" title="var">p</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="STLC.html#isPair"><span class="id" title="constructor">isPair</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">prf</span>) := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">a</span> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">p</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> } } ;<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> <a class="idref" href="STLC.html#hereditary_subst_comp_proj"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> <a class="idref" href="STLC.html#is_pair"><span class="id" title="definition">is_pair</span></a> <span class="id" title="var">p</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="STLC.html#isPair"><span class="id" title="constructor">isPair</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">prf</span>) := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">b</span> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">p</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> } } ;<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="STLC.html#her_type"><span class="id" title="definition">her_type</span></a>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">constructor</span> 2; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">constructor</span>.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">prf</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">with</span> <span class="id" title="var">subterm_relation</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="STLC.html#her_type"><span class="id" title="definition">her_type</span></a> : <span class="id" title="var">subterm_relation</span>.<br/>

<br/>
<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="STLC.html#her_type"><span class="id" title="definition">her_type</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">prf</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">with</span> <span class="id" title="var">subterm_relation</span>.<br/>

<br/>
<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Program.Basics.html#const"><span class="id" title="definition">const</span></a> : <span class="id" title="var">subterm_relation</span>.<br/>

<br/>
<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">All</span> <span class="id" title="keyword">Obligations</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">autoh</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="STLC.html#type_subterm"><span class="id" title="definition">type_subterm</span></a> <span class="id" title="keyword">in</span> × ; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hereditary_subst</span> <span class="id" title="var">subterm_relation</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simph</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">innermost</span> (<span class="id" title="var">hints</span> <span class="id" title="var">hereditary_subst</span>)));<br/>
&nbsp;&nbsp;<span class="id" title="var">autoh</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Transparent</span> <a class="idref" href="STLC.html#type_subterm"><span class="id" title="definition">type_subterm</span></a> : <span class="id" title="var">subterm_relation</span>.<br/>

<br/>
<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">idtac</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Subterm.rec_wf_rel</span> <span class="id" title="var">hsubst</span> <span class="id" title="var">t</span> <a class="idref" href="STLC.html#her_order"><span class="id" title="definition">her_order</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">t</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">p</span>. <span class="id" title="var">simph</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare"><span class="id" title="abbreviation">nat_compare</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">simph</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">autoh</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">foo</span>:=(<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t1_1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span>)). <span class="id" title="var">clearbody</span> <span class="id" title="var">foo</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span>(<span class="id" title="var">fr</span>:=<a class="idref" href="STLC.html#is_lambda"><span class="id" title="definition">is_lambda</span></a> <span class="id" title="var">foo</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">fr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">fr</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">innermost</span> (<span class="id" title="var">hints</span> <span class="id" title="var">hereditary_subst</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">autoh</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">prf</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hsubst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">subst</span>. <span class="id" title="var">autoh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">autoh</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">simph</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">simph</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">autoh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="STLC.html#is_pair"><span class="id" title="definition">is_pair</span></a> (<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="var">simph</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simph</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">autoh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="STLC.html#is_pair"><span class="id" title="definition">is_pair</span></a> (<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="var">simph</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simph</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">simph</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">invert_term</span> := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="STLC.html#check"><span class="id" title="inductive">check</span></a> <span class="id" title="var">_</span> (<a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="STLC.html#check"><span class="id" title="inductive">check</span></a> <span class="id" title="var">_</span> (<a class="idref" href="STLC.html#Pair"><span class="id" title="constructor">Pair</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="STLC.html#check"><span class="id" title="inductive">check</span></a> <span class="id" title="var">_</span> <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="STLC.html#types"><span class="id" title="inductive">types</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">t</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="STLC.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="STLC.html#Lambda"><span class="id" title="constructor">Lambda</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="STLC.html#App"><span class="id" title="constructor">App</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="STLC.html#Pair"><span class="id" title="constructor">Pair</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a> ⇒ <span class="id" title="var">depelim</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eq_JMeq"><span class="id" title="lemma">eq_JMeq</span></a> {<span class="id" title="var">A</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="STLC.html#A"><span class="id" title="variable">A</span></a>} (<span class="id" title="var">p</span> : <a class="idref" href="STLC.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#y"><span class="id" title="variable">y</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Logic.JMeq.html#JMeq"><span class="id" title="inductive">JMeq</span></a> <a class="idref" href="STLC.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="STLC.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Logic.JMeq.html#JMeq_refl"><span class="id" title="constructor">JMeq_refl</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Regular</span> <span class="id" title="var">Subst</span> <span class="id" title="keyword">Tactic</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hereditary_subst_type"><span class="id" title="lemma">hereditary_subst_type</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">u</span> <span class="id" title="var">U</span> : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">t'</span> <span class="id" title="var">o</span>, <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">ty</span> <span class="id" title="var">prf</span>, <a class="idref" href="STLC.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <a class="idref" href="STLC.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="STLC.html#prf"><span class="id" title="variable">prf</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Γ'</span>));<br/>
&nbsp;&nbsp;<span class="id" title="var">simpl_dep_elim</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">split</span>; [ (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>) | <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span> ] ]).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">invert_term</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#abstraction"><span class="id" title="constructor">abstraction</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> (<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ'</span>)). <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">simplify_IH_hyps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>. <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_eq"><span class="id" title="lemma">nat_compare_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="STLC.html#nth_length"><span class="id" title="lemma">nth_length</span></a>. <span class="id" title="tactic">split</span>. <span class="id" title="var">term</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Lt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_lt"><span class="id" title="lemma">nat_compare_lt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a>) <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span>) <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="STLC.html#nth_extend_right"><span class="id" title="lemma">nth_extend_right</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Gt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="STLC.html#substitutive"><span class="id" title="lemma">substitutive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="tactic">subst</span> <span class="id" title="keyword">in</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">t</span>. <span class="id" title="var">simp</span> <span class="id" title="tactic">subst</span> <span class="id" title="keyword">in</span> <span class="id" title="var">t</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;App&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">on_call</span> (<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_IH_hyps</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2_0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> (<span class="id" title="var">A</span> <a class="idref" href="STLC.html#8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">---&gt;</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">H1</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">H2_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">Hind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> <span class="id" title="var">H4</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ty</span> <span class="id" title="var">prf0</span> <span class="id" title="var">Heq'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">Heq'</span>. <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;App&nbsp;no&nbsp;redex&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#is_lambda_inr"><span class="id" title="lemma">is_lambda_inr</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t2</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#application"><span class="id" title="constructor">application</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">A</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hind</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Fst&nbsp;redex&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hind</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hind</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_IH_hyps</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">H2</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Fst&nbsp;no&nbsp;redex&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#is_pair_inr"><span class="id" title="lemma">is_pair_inr</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_IH_hyps</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×. <span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hind</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#pair_elim_fst"><span class="id" title="constructor">pair_elim_fst</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">B</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Snd&nbsp;redex&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hind</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hind</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_IH_hyps</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">noconf</span> <span class="id" title="var">H2</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Snd&nbsp;no&nbsp;redex&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#is_pair_inr"><span class="id" title="lemma">is_pair_inr</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht2</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">t2</span>. <span class="id" title="var">simplify_IH_hyps</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×. <span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>); <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#pair_elim_snd"><span class="id" title="constructor">pair_elim_snd</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="STLC.html#hereditary_subst_type"><span class="id" title="lemma">hereditary_subst_type</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Classes.RelationClasses.html#subrelation"><span class="id" title="class">subrelation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">reduce</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_pred"><span class="id" title="lemma">nth_pred</span></a> <span class="id" title="var">Γ'</span> <span class="id" title="var">Γ</span> <span class="id" title="var">U</span> <span class="id" title="var">n</span> : <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#19ab5cfd7e4f60fa14f22b576013bd96"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="STLC.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a>) <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert_until</span> <span class="id" title="var">Γ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="var">pred</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHΓ'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hereditary_subst_subst"><span class="id" title="lemma">hereditary_subst_subst</span></a> <span class="id" title="var">U</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span> <span class="id" title="var">Γ'</span> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span>, <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t'</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <span class="id" title="var">t'</span> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <span class="id" title="var">t'</span> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t'</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <span class="id" title="var">t'</span> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="STLC.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <span class="id" title="var">t'</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Γ'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hind</span> := <span class="id" title="tactic">fresh</span> "Hind" <span class="id" title="keyword">in</span> <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">Hind</span>; <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hu</span>.<br/>

<br/>
</div>

<div class="doc">
Lambda 
</div>
<div class="code">
&nbsp;&nbsp;- <span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsyn</span>; [| <span class="id" title="tactic">elim</span> (<a class="idref" href="STLC.html#synth_arrow"><span class="id" title="lemma">synth_arrow</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="var">Hsyn</span>)].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invert_term</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ'</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">B</span> <span class="id" title="var">Hu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty</span> <span class="id" title="var">prf</span>]|], <span class="id" title="var">Hind</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hind0</span> <span class="id" title="var">Hind1</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hind0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="STLC.html#synth_arrow"><span class="id" title="lemma">synth_arrow</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="var">H0</span>).<br/>

<br/>
</div>

<div class="doc">
Pairs 
</div>
<div class="code">
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsyn</span>; [|<span class="id" title="tactic">elim</span> (<a class="idref" href="STLC.html#synth_pair"><span class="id" title="lemma">synth_pair</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="var">Hsyn</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invert_term</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">B</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty</span> <span class="id" title="var">prf</span>]|], <span class="id" title="var">o0</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty'</span> <span class="id" title="var">prf'</span>]|], <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_conjs</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="STLC.html#synth_pair"><span class="id" title="lemma">synth_pair</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="var">H3</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Unit&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsyn</span>; [|<span class="id" title="tactic">elim</span> (<a class="idref" href="STLC.html#synth_unit"><span class="id" title="lemma">synth_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="var">Hsyn</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">Hsyn</span>. <span class="id" title="var">term</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="STLC.html#synth_unit"><span class="id" title="lemma">synth_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="var">H1</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Var:&nbsp;eq&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_eq"><span class="id" title="lemma">nat_compare_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsyn</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Hsyn</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="STLC.html#nth_length"><span class="id" title="lemma">nth_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="STLC.html#nth_length"><span class="id" title="lemma">nth_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">term</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Lt&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_lt"><span class="id" title="lemma">nat_compare_lt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsyn</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Hsyn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>;<span class="id" title="tactic">constructor</span>;<span class="id" title="tactic">auto</span>|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">rewrite</span> <a class="idref" href="STLC.html#nth_app_l"><span class="id" title="lemma">nth_app_l</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="STLC.html#nth_app_l"><span class="id" title="lemma">nth_app_l</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l'</span>:=<span class="id" title="var">Γ</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Gt&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Arith.Compare_dec.html#nat_compare_gt"><span class="id" title="lemma">nat_compare_gt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsyn</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Hsyn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a>) <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <span class="id" title="var">i</span>) (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span>) <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="keyword">in</span> ×. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#nth_pred"><span class="id" title="lemma">nth_pred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a>) <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <span class="id" title="var">i</span>) (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span>) <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="keyword">in</span> ×. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#nth_pred"><span class="id" title="lemma">nth_pred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;App&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">t0</span> <span class="id" title="var">into</span> <span class="id" title="var">U</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">t1</span> <span class="id" title="var">into</span> <span class="id" title="var">u0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">on_call</span> (<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">u0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Redex&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>((<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a> <span class="id" title="var">t3</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <span class="id" title="var">t0</span> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#71b04d61d6d756540f3712ec7919f1f1"><span class="id" title="notation">∧</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">T</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">Γ</span> (<span class="id" title="var">A</span> <a class="idref" href="STLC.html#8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">---&gt;</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H4</span> <span class="id" title="var">Ht</span>). <span class="id" title="var">noconf</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">H2</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">B0</span> <span class="id" title="var">H7</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o0</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty</span> <span class="id" title="var">typrf</span>]|]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcheck</span> <span class="id" title="var">Hinf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcheck</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcheck</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">B0</span> (<span class="id" title="var">H</span> <span class="id" title="var">H2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o0</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty</span> <span class="id" title="var">typrf</span>]|]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcheck</span> <span class="id" title="var">Hinf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcheck</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcheck</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H5</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht3u</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">depelim</span> <span class="id" title="var">Ht3u</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;No&nbsp;redex&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">t0</span> <span class="id" title="var">into</span> <span class="id" title="var">U</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">t1</span> <span class="id" title="var">into</span> <span class="id" title="var">u0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a> <span class="id" title="var">t3</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <span class="id" title="var">T</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">@(</span></a> <span class="id" title="var">t2</span><a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">u0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Γ'</span>))<a class="idref" href="STLC.html#27003d1bd41c1816f797600a4e4d367c"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> (<span class="id" title="var">A</span> <a class="idref" href="STLC.html#8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">---&gt;</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">Hu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o0</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty</span> <span class="id" title="var">prf'</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hind'</span> <span class="id" title="var">Hind''</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind''</span> <span class="id" title="var">Ht</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hind''</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">Hu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty'</span> <span class="id" title="var">prf''</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hind0</span> <span class="id" title="var">Hind0'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind0</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hind0</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">ty'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="STLC.html#application_synth"><span class="id" title="constructor">application_synth</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>. <span class="id" title="var">simp</span> <span class="id" title="var">is_lambda</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>. <span class="id" title="var">simp</span> <span class="id" title="var">is_lambda</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">noconf</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">Hu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> (<span class="id" title="var">A</span> <a class="idref" href="STLC.html#8a3376b12f661a2599a8c7bac43ce36a"><span class="id" title="notation">---&gt;</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">Hu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#is_lambda_inr"><span class="id" title="lemma">is_lambda_inr</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t2</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty</span> <span class="id" title="var">prf</span>]|]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hindt0</span> <span class="id" title="var">Hindt0'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="STLC.html#application_synth"><span class="id" title="constructor">application_synth</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hindt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="STLC.html#application_synth"><span class="id" title="constructor">application_synth</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Pair&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">is_pair</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">prf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">t0</span> <span class="id" title="var">into</span> <span class="id" title="var">U</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>( (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">t5</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <span class="id" title="var">u</span> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#71b04d61d6d756540f3712ec7919f1f1"><span class="id" title="notation">∧</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">T</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> (<span class="id" title="var">A</span> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">Hu</span>). <span class="id" title="var">revert</span> <span class="id" title="var">Hind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hind</span> <span class="id" title="var">Hind'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind'</span> <span class="id" title="var">Ht</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hind'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> <span class="id" title="var">H1</span>]. <span class="id" title="var">noconf</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">Hu</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">t0</span> <span class="id" title="var">into</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">t5</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Fst"><span class="id" title="constructor">Fst</span></a> <span class="id" title="var">t2</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> (<span class="id" title="var">A</span> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">Hu</span>). <span class="id" title="var">revert</span> <span class="id" title="var">Hind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty</span> <span class="id" title="var">prf</span>]|]. <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hind</span> <span class="id" title="var">Hind'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hind'</span> <span class="id" title="var">Ht</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="var">simp</span> <span class="id" title="var">is_pair</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#is_pair_inr"><span class="id" title="lemma">is_pair_inr</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span> ; <span class="id" title="tactic">subst</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hind</span> <span class="id" title="var">Hind'</span>]. <span class="id" title="tactic">eapply</span> <a class="idref" href="STLC.html#pair_elim_fst_synth"><span class="id" title="constructor">pair_elim_fst_synth</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hind'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Snd&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">Hu</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">t0</span> <span class="id" title="var">into</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>((<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">t6</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <span class="id" title="var">v</span> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#71b04d61d6d756540f3712ec7919f1f1"><span class="id" title="notation">∧</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">T</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> (<span class="id" title="var">A</span> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">Hu</span>). <span class="id" title="var">revert</span> <span class="id" title="var">Hind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconf</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hind</span> <span class="id" title="var">Hind'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind'</span> <span class="id" title="var">Ht</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hind'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H0</span> <span class="id" title="var">H1</span>]. <span class="id" title="var">noconf</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">T</span> <span class="id" title="var">Hu</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">t0</span> <span class="id" title="var">into</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span><a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">t6</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#Snd"><span class="id" title="constructor">Snd</span></a> <span class="id" title="var">t2</span> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">depelim</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">_</span> (<span class="id" title="var">A</span> <a class="idref" href="STLC.html#7e10df2a57715ff793340500f4095654"><span class="id" title="notation">×</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">Hu</span>). <span class="id" title="var">revert</span> <span class="id" title="var">Hind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">on_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">hsubst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ty</span> <span class="id" title="var">prf</span>]|]. <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hind</span> <span class="id" title="var">Hind'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hind'</span> <span class="id" title="var">Ht</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H</span>. <span class="id" title="var">simp</span> <span class="id" title="var">is_pair</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hind</span> <span class="id" title="var">Hind'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#is_pair_inr"><span class="id" title="lemma">is_pair_inr</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">t2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hind'</span> <span class="id" title="var">Ht</span>). <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>. <span class="id" title="var">depelim</span> <span class="id" title="var">H1</span>. <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="STLC.html#hereditary_subst_subst"><span class="id" title="lemma">hereditary_subst_subst</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="check_liftn"><span class="id" title="lemma">check_liftn</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#check_lift"><span class="id" title="definition">check_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">H</span> <span class="id" title="var">Γ'</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="synth_liftn"><span class="id" title="lemma">synth_liftn</span></a> {<span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>} : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="STLC.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#lift"><span class="id" title="definition">lift</span></a> 0 (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="STLC.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#a78cb531ea3293d677b63d7edb83bff0"><span class="id" title="notation">⇒</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#synthetize_lift"><span class="id" title="definition">synthetize_lift</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">H</span> <span class="id" title="var">Γ'</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> @<a class="idref" href="STLC.html#check_liftn"><span class="id" title="lemma">check_liftn</span></a> @<a class="idref" href="STLC.html#synth_liftn"><span class="id" title="lemma">synth_liftn</span></a> : <span class="id" title="var">term</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Write&nbsp;normalization&nbsp;function&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="types_normalizes"><span class="id" title="lemma">types_normalizes</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> : <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="STLC.html#fb63d3a0a1364c3bad9948eafe0c8cd6"><span class="id" title="notation">:</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#513d6cdffacb0252f6c48bf325cd5180"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#ad7a1d6b8b93b9a73a2783f3979de807"><span class="id" title="notation">∃</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Unicode.Utf8_core.html#ad7a1d6b8b93b9a73a2783f3979de807"><span class="id" title="notation">,</span></a> <a class="idref" href="STLC.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">|--</span></a> <a class="idref" href="STLC.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="STLC.html#6da72bc44fd8bc5be301c406e4902f99"><span class="id" title="notation">≤</span></a> <a class="idref" href="STLC.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1. <span class="comment">(*&nbsp;eta-exp&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="STLC.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i</span> <span class="id" title="var">Γ</span> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a>) <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="STLC.html#eta_expand"><span class="id" title="lemma">eta_expand</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i</span> <span class="id" title="var">Γ</span> <a class="idref" href="STLC.html#unit"><span class="id" title="constructor">unit</span></a>) (<a class="idref" href="STLC.html#neutral_var"><span class="id" title="constructor">neutral_var</span></a> <span class="id" title="var">_</span>)); <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t'</span> <span class="id" title="var">tt'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="STLC.html#b7deaaae467389d2bb88b3b03b0c1d8b"><span class="id" title="notation">λ</span></a> <span class="id" title="var">t'</span>; <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t'</span> <span class="id" title="var">tt'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">u'</span> <span class="id" title="var">uu'</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Hereditary&nbsp;substitution&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="STLC.html#checks_arrow"><span class="id" title="lemma">checks_arrow</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tt'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">tt'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t''</span> [<span class="id" title="var">t't''</span> <span class="id" title="var">t'B</span>]]. <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="STLC.html#hereditary_subst_subst"><span class="id" title="lemma">hereditary_subst_subst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t''</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">B</span> <span class="id" title="var">uu'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct_call</span> <a class="idref" href="STLC.html#hereditary_subst"><span class="id" title="definition">hereditary_subst</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">t0</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">t0</span>; <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Unit&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="STLC.html#Tt"><span class="id" title="constructor">Tt</span></a>; <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Pair&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t'</span> <span class="id" title="var">tt'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">u'</span> <span class="id" title="var">uu'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&lt;&lt;</span></a> <span class="id" title="var">t'</span> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">,</span></a> <span class="id" title="var">u'</span> <a class="idref" href="STLC.html#51275e0fc232b96cd86ea41a8104ef9e"><span class="id" title="notation">&gt;&gt;</span></a>. <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Fst&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t'</span> <span class="id" title="var">tt'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">tt'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">t0</span>; <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Snd&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtypes</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t'</span> <span class="id" title="var">tt'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">tt'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">u</span>; <span class="id" title="var">term</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">depelim</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="STLC.html#types_normalizes"><span class="id" title="lemma">types_normalizes</span></a>.<br/>
</div>
<hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>